ğŸ’¡ AmaÃ§ (KÄ±sa Ã–zet)

â€œBÃ¼ltenâ€ sayfasÄ±, Maya Meclisâ€™in resmi Instagram hesabÄ±ndaki gÃ¶nderileri otomatik olarak Ã§eken bir haber/bÃ¼lten bÃ¶lÃ¼mÃ¼ olacak.

Full otomatik: Instagramâ€™da post atÄ±ldÄ±ÄŸÄ± anda (veya en fazla birkaÃ§ dakika iÃ§inde) sitede â€œbÃ¼lten postuâ€ olarak gÃ¶zÃ¼kecek.

Ä°Ã§erik:

GÃ¶rsel veya video

AÃ§Ä±klama (caption)

Tarih

Instagram linki

ZiyaretÃ§i:

Videoyu direkt siteden izleyebilecek

AÃ§Ä±klamayÄ± direkt siteden okuyabilecek

Ä°sterse â€œInstagramâ€™da AÃ§â€ linkine basÄ±p Instagramâ€™a gidebilecek.

ğŸ§± Genel Mimari

Instagram â†’ Backend Cron Job

Instagram API (Instagram Graph API / Basic Display API) ile resmi hesabÄ±n gÃ¶nderileri Ã§ekilecek.

Belirli aralÄ±klarla Ã§alÄ±ÅŸan bir cron job veya server-side scheduled task olacak.

Yeni postlarÄ± veritabanÄ±na yazacak.

Backend â†’ VeritabanÄ± (Supabase/Postgres)

Ã–rneÄŸin bulletin_posts adÄ±nda bir tablo:

id (UUID / serial)

ig_post_id (Instagramâ€™daki ID, unique)

media_type (IMAGE / VIDEO / CAROUSEL_ALBUM)

media_url (gÃ¶rsel/video urlâ€™si)

thumbnail_url (Ã¶zellikle video varsa)

caption (text)

permalink (Instagram linki)

posted_at (Instagramâ€™daki created_time)

created_at (tabloya eklenme zamanÄ±)

Frontend â†’ BÃ¼lten Listesi SayfasÄ± (/bulten)

VeritabanÄ±ndan bulletin_posts Ã§ekilecek (ORDER BY posted_at DESC).

Kart kart listelenecek:

Ãœstte gÃ¶rsel veya video Ã¶nizleme

KalÄ±n baÅŸlÄ±k (captionâ€™Ä±n ilk satÄ±rÄ± / ilk 80â€“100 karakteri)

AltÄ±nda kÄ±sa aÃ§Ä±klama (caption truncate)

KÃ¼Ã§Ã¼k fontla tarih

â€œDevamÄ±nÄ± GÃ¶râ€ veya kartÄ±n tamamÄ±nÄ± tÄ±klayÄ±nca detay sayfasÄ±na gitme

Responsive grid (mobil 1 sÃ¼tun, desktop 2â€“3 sÃ¼tun).

Frontend â†’ Detay SayfasÄ± (/bulten/[id])

Tek post iÃ§in detay:

EÄŸer media_type === 'IMAGE':

BÃ¼yÃ¼k gÃ¶rsel veya gallery (CAROUSEL ise ilk gÃ¶rsel ÅŸimdilik yeter, istersen ileride slider yaparsÄ±n)

EÄŸer media_type === 'VIDEO':

HTML5 <video controls> ile media_urlâ€™den direkt oynatma

AltÄ±na â€œVideoyu Instagramâ€™da GÃ¶râ€ butonu (permalink)

Captionâ€™Ä± olduÄŸu gibi (emoji dahil) gÃ¶ster.

Altta tarih.

â€œInstagramâ€™da AÃ§â€ butonu.

ğŸ”Œ Instagram Entegrasyonu (Teknik Beklenti)

Hesap: ResmÃ® Maya Meclis Instagram hesabÄ± (Business/Creator yapÄ±lmÄ±ÅŸ ve Facebook Pageâ€™e baÄŸlÄ±).

Ã‡Ã¶zÃ¼m yolu:
Instagram Graph API Ã¼zerinden kullanÄ±cÄ± medyasÄ±nÄ± Ã§ek:

Facebook Developerâ€™da bir app aÃ§.

Instagram Basic Display / Instagram Graph API iÃ§in yapÄ±landÄ±r.

access_token al (uzun sÃ¼reli token).

Backendâ€™de .env iÃ§ine koy:

INSTAGRAM_ACCESS_TOKEN

INSTAGRAM_USER_ID (hesabÄ±n idâ€™si)

Backend tarafÄ±nda (Ã¶r. Node/Express, Next.js API route, Python Flask fark etmez, stack ne ise):

Her 5â€“10 dakikada bir Ã§alÄ±ÅŸan job (cron):

GET https://graph.instagram.com/{user-id}/media?fields=id,caption,media_type,media_url,thumbnail_url,permalink,timestamp&access_token=...

DÃ¶nen listeden idâ€™leri Ã§ek.

VeritabanÄ±nda ig_post_id kontrol et:

Yoksa yeni kayÄ±t oluÅŸtur.

Varsa skip et.

ğŸ—„ Ã–rnek Tablo YapÄ±sÄ± (SQL MantÄ±ÄŸÄ±)

Bire bir kopyalayÄ±p kullanmak zorunda deÄŸilsin ama mantÄ±ÄŸÄ± ÅŸÃ¶yle:

CREATE TABLE bulletin_posts (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  ig_post_id text UNIQUE NOT NULL,
  media_type text NOT NULL,
  media_url text NOT NULL,
  thumbnail_url text,
  caption text,
  permalink text,
  posted_at timestamptz,
  created_at timestamptz DEFAULT now()
);

ğŸ–¥ Frontend DetaylarÄ± (Next.js Ã¶rneÄŸiyle mantÄ±k)
/bulten sayfasÄ±

Server-side ya da client-side fark etmez, ama tercihen server-side:

SELECT * FROM bulletin_posts ORDER BY posted_at DESC;

Render:

media_type === 'VIDEO' ise kartta:

KÃ¼Ã§Ã¼k video veya thumbnail + play icon (performansa gÃ¶re)

media_type === 'IMAGE' ise:

GÃ¶rsel preview

Captionâ€™Ä± max 100â€“120 karakter gÃ¶ster, sonuna ... ekle.

/bulten/[id] sayfasÄ±

URL: /bulten/{id}

id ile tabloya bak:

Postu Ã§ek.

Ãœstte media_typeâ€™e gÃ¶re:

IMAGE â†’ <img src={media_url} />

VIDEO â†’ <video src={media_url} controls />

AltÄ±nda caption komple gÃ¶ster.

En altta:

<a href={permalink} target="_blank" rel="noreferrer">
  Instagramâ€™da AÃ§
</a>

ğŸ¯ Ã–zet Beklenti

Backend:

Instagram APIâ€™den media Ã§ekip bulletin_posts tablosuna yazan otomatik cron job.

VeritabanÄ±:

bulletin_posts tablosu (ig_post_id, media_url, caption, vs.).

Frontend:

/bulten: kart listesi (gÃ¶rsel/video + baÅŸlÄ±k + kÄ±sa aÃ§Ä±klama).

/bulten/[id]: media + full aÃ§Ä±klama + â€œInstagramâ€™da AÃ§â€.

KullanÄ±cÄ± Deneyimi:

Ã–ÄŸrenciler videoyu ve aÃ§Ä±klamayÄ± direkt siteden gÃ¶rebilecek,

Ä°sterlerse tek tÄ±kla Instagramâ€™a geÃ§ebilecekler.